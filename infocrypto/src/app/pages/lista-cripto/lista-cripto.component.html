<h2>Top Criptomonedas</h2>

<input
type="text"
placeholder="Buscar Criptomonedas..."
(keyup)="aplicarFiltro($event)"
style="
  margin-bottom: 1rem;
  padding: 0.5rem 1rem;
  width: 100%; max-width:400px;
  border: 1px solid #ccc;
  border-radius: 8px;"
>

<div class="table-container">
<table mat-table [dataSource]="criptos" class="mat-elevation-z2" *ngIf="!cargando">

  <ng-container matColumnDef="image">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let cripto">
      <img [src]="cripto.image" alt="{{cripto.name}}" width="24"/>
    </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Nombre</th>
    <td mat-cell *matCellDef="let cripto">
      <strong>{{cripto.name}}</strong> ({{cripto.symbol.toUpperCase()}})
    </td>
  </ng-container>

  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> Precio </th>
    <td mat-cell *matCellDef="let cripto">
      {{ cripto.current_price | currency:'EUR' }}
    </td>
  </ng-container>

  <ng-container matColumnDef="change">
    <th mat-header-cell *matHeaderCellDef> Variación 24h </th>
    <td mat-cell *matCellDef="let cripto">
      <span [style.color]="cripto.price_change_percentage_24h >= 0 ? 'green' : 'red'">
        {{ cripto.price_change_percentage_24h | number:'1.2-2' }} %
      </span>
    </td>
  </ng-container>

  <ng-container matColumnDef="acciones">
    <th mat-header-cell *matHeaderCellDef> Acciones </th>
    <td mat-cell *matCellDef="let cripto">
      <button mat-raised-button
              color="primary"
              [routerLink]="['/detalle', cripto.id]"
              class="mat-body-2">
        Ver más
        <mat-icon class="mat-icon-14">arrow_forward_ios</mat-icon>
      </button>
    </td>
  </ng-container>

  <!-- Encabezados y filas -->
  <tr mat-header-row *matHeaderRowDef="columnas"></tr>
  <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
</table>

<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>
<p  *ngIf="cargando">Cargando...</p>

<!--<ul *ngIf="!cargando">-->

<!--  <li *ngFor="let cripto of criptos">-->

<!--    <img [src]="cripto.image" alt=" {{cripto.name}}" width="20"/>-->
<!--    <strong>{{cripto.name}}</strong>({{cripto.symbol.toUpperCase()}}) - -->
<!--    {{cripto.current_price | currency:'EUR'}}-->
<!--  </li>-->
<!--</ul>-->
